[{"url":"https://api.github.com/repos/liverty-music/cloud-provisioning/issues/comments/3842310416","html_url":"https://github.com/liverty-music/cloud-provisioning/pull/30#issuecomment-3842310416","issue_url":"https://api.github.com/repos/liverty-music/cloud-provisioning/issues/30","id":3842310416,"node_id":"IC_kwDOPWhnis7lBQEQ","user":{"login":"pulumi[bot]","id":42046080,"node_id":"MDM6Qm90NDIwNDYwODA=","avatar_url":"https://avatars.githubusercontent.com/in/15540?v=4","gravatar_id":"","url":"https://api.github.com/users/pulumi%5Bbot%5D","html_url":"https://github.com/apps/pulumi","followers_url":"https://api.github.com/users/pulumi%5Bbot%5D/followers","following_url":"https://api.github.com/users/pulumi%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/pulumi%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/pulumi%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pulumi%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/pulumi%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/pulumi%5Bbot%5D/repos","events_url":"https://api.github.com/users/pulumi%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/pulumi%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2026-02-03T16:24:01Z","updated_at":"2026-02-03T16:26:55Z","body":":rocket: The **[Update (preview)](https://app.pulumi.com/pannpers/liverty-music/prod/previews/f5abdee0-1be5-403f-9bdc-232d4e78aaf3)** for **[pannpers/liverty-music/prod](https://app.pulumi.com/pannpers/liverty-music/prod)** (at b15e773fcaff9cc714dd26ffc037acf077ae8f21) was successful.\n\n\n## ✨ Neo Explanation\n<details>\n<summary>This update adds GitHub Actions CI/CD capabilities by creating container registry infrastructure and necessary service accounts, while also improving IAM permission management by migrating from exclusive bindings to individual member assignments.</summary>\n\n## Root Cause Analysis\nThis deployment was triggered by a code change in the repository. The changes focus on two main infrastructure improvements:\n\n1. **GitHub Actions CI/CD Setup**: Adding GitHub Actions integration to enable automated container image builds and deployments\n2. **IAM Permission Refinement**: Migrating from IAMBinding (which overwrites all permissions) to IAMMember (which adds individual permissions safely) for service account access controls\n\n## Dependency Chain\nThe GitHub Actions integration cascades through several new resources:\n- Creates a new `github-actions` service account with Artifact Registry write permissions\n- Adds a GitHub OIDC provider to the existing workload identity pool\n- Establishes the new artifact registry repository for storing container images\n- Enables the Artifact Registry API service\n\nThe IAM binding changes affect multiple service accounts:\n- The `pulumi-cloud` service account (used for infrastructure deployments) switches from IAMBinding to IAMMember while updating its description\n- The `backend-app` service account (used by the application runtime) undergoes the same migration\n- Both service accounts retain their existing permissions, just managed more safely\n\nThe GitHub specification repository gains a template configuration, likely to standardize new protobuf service creation.\n\n## Risk analysis\n**Low Risk** - All changes are additive or non-breaking. The IAM binding migrations preserve existing permissions while making them safer to manage. No stateful resources are being replaced or deleted.\n</details>\n\n\n\n## Resource Changes\n```diff\n    Name                                          Type                                                               Operation\n+   github-actions                                gcp:serviceaccount/account:Account                                 create\n+   backend-app-wif-binding                       gcp:serviceaccount/iAMMember:IAMMember                             create\n+   pulumi-cloud-x-owner                          gcp:projects/iAMMember:IAMMember                                   create\n~   liverty-music                                 gcp:organizations/folder:Folder                                    update\n+   pulumi-cloud-x-resourcemanager-folder-viewer  gcp:folder/iAMMember:IAMMember                                     create\n~   ConcertDataStore                              gcp:liverty-music:ConcertDataStore                                 update\n+   github-actions-wif-user                       gcp:serviceaccount/iAMMember:IAMMember                             create\n+   github-actions-x-artifactregistry-writer      gcp:projects/iAMMember:IAMMember                                   create\n+   github-provider                               gcp:iam/workloadIdentityPoolProvider:WorkloadIdentityPoolProvider  create\n-   backend-app-wif-binding                       gcp:serviceaccount/iAMBinding:IAMBinding                           delete\n+   github-backend-repository                     gcp:artifactregistry/repository:Repository                         create\n~   postgres                                      gcp:liverty-music:PostgresComponent                                update\n~   liverty-music-backend-app                     gcp:serviceaccount/account:Account                                 update\n-   pulumi-cloud-folder-viewer                    gcp:folder/iAMMember:IAMMember                                     delete\n~   WorkloadIdentityFederation                    gcp:liverty-music:WorkloadIdentityFederation                       update\n~   pulumi-cloud                                  gcp:serviceaccount/account:Account                                 update\n+   pulumi-cloud-wif-user                         gcp:serviceaccount/iAMMember:IAMMember                             create\n~   network                                       gcp:liverty-music:NetworkComponent                                 update\n-   pulumi-cloud-project-owner                    gcp:projects/iAMMember:IAMMember                                   delete\n~   specification                                 github:index/repository:Repository                                 update\n+   artifactregistry                              gcp:projects/service:Service                                       create\n~   kubernetes-cluster                            gcp:liverty-music:KubernetesComponent                              update\n-   pulumi-cloud-wif-user-binding                 gcp:serviceaccount/iAMBinding:IAMBinding                           delete\n\n```\n\n\n\n\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/liverty-music/cloud-provisioning/issues/comments/3842310416/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":{"id":15540,"client_id":"Iv1.d3768149424fd531","slug":"pulumi","node_id":"MDM6QXBwMTU1NDA=","owner":{"login":"pulumi","id":21992475,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIxOTkyNDc1","avatar_url":"https://avatars.githubusercontent.com/u/21992475?v=4","gravatar_id":"","url":"https://api.github.com/users/pulumi","html_url":"https://github.com/pulumi","followers_url":"https://api.github.com/users/pulumi/followers","following_url":"https://api.github.com/users/pulumi/following{/other_user}","gists_url":"https://api.github.com/users/pulumi/gists{/gist_id}","starred_url":"https://api.github.com/users/pulumi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pulumi/subscriptions","organizations_url":"https://api.github.com/users/pulumi/orgs","repos_url":"https://api.github.com/users/pulumi/repos","events_url":"https://api.github.com/users/pulumi/events{/privacy}","received_events_url":"https://api.github.com/users/pulumi/received_events","type":"Organization","user_view_type":"public","site_admin":false},"name":"Pulumi","description":"[Pulumi](https://www.pulumi.com/)’s universal infrastructure as code SDK lets you build, deploy, and manage cloud infrastructure on any cloud using the world’s most popular programming languages (TypeScript, Go, .NET, Python, and Java) and markup languages (YAML, CUE).\r\n\r\nThe Pulumi GitHub app will automatically add comments to Pull Requests with the results of any stack changes. This includes a summary of how many resources were created, updated, and/or deleted.","external_url":"https://pulumi.com","html_url":"https://github.com/apps/pulumi","created_at":"2018-08-02T19:44:22Z","updated_at":"2025-09-19T13:16:34Z","permissions":{"checks":"write","contents":"write","deployments":"write","environments":"write","members":"read","metadata":"read","pull_requests":"write","workflows":"write"},"events":["check_run","check_suite","pull_request","pull_request_review","pull_request_review_comment","push"]}},{"url":"https://api.github.com/repos/liverty-music/cloud-provisioning/issues/comments/3842315113","html_url":"https://github.com/liverty-music/cloud-provisioning/pull/30#issuecomment-3842315113","issue_url":"https://api.github.com/repos/liverty-music/cloud-provisioning/issues/30","id":3842315113,"node_id":"IC_kwDOPWhnis7lBRNp","user":{"login":"pulumi[bot]","id":42046080,"node_id":"MDM6Qm90NDIwNDYwODA=","avatar_url":"https://avatars.githubusercontent.com/in/15540?v=4","gravatar_id":"","url":"https://api.github.com/users/pulumi%5Bbot%5D","html_url":"https://github.com/apps/pulumi","followers_url":"https://api.github.com/users/pulumi%5Bbot%5D/followers","following_url":"https://api.github.com/users/pulumi%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/pulumi%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/pulumi%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pulumi%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/pulumi%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/pulumi%5Bbot%5D/repos","events_url":"https://api.github.com/users/pulumi%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/pulumi%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2026-02-03T16:24:47Z","updated_at":"2026-02-03T16:27:41Z","body":":rocket: The **[Update (preview)](https://app.pulumi.com/pannpers/liverty-music/dev/previews/66fce743-e44a-47d9-8bc8-50c66e1f7df3)** for **[pannpers/liverty-music/dev](https://app.pulumi.com/pannpers/liverty-music/dev)** (at b15e773fcaff9cc714dd26ffc037acf077ae8f21) was successful.\n\n\n## ✨ Neo Explanation\n<details>\n<summary>Adding a new Artifact Registry repository to store backend container images, with no impact to existing infrastructure or services.</summary>\n\n## Root Cause Analysis\nA developer added a new Artifact Registry repository for storing container images or other build artifacts. This appears to be infrastructure expansion to support a new backend service deployment workflow, likely to enable storing and versioning Docker images built from GitHub Actions or similar CI/CD pipelines.\n\n## Dependency Chain\nThis is a standalone infrastructure addition with no cascading effects:\n- A new `github-backend-repository` Artifact Registry is being created under the existing `liverty-music` GCP project\n- No existing resources are affected since this is a net-new repository\n- The repository will be ready to receive container images once created\n\n## Risk analysis\n**Low Risk** - This is purely additive infrastructure with no impact on existing services. Creating an Artifact Registry repository is a safe, non-disruptive operation that doesn't affect running workloads or data.\n</details>\n\n\n\n## Resource Changes\n```diff\n    Name                       Type                                        Operation\n+   github-backend-repository  gcp:artifactregistry/repository:Repository  create\n\n```\n\n\n\n\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/liverty-music/cloud-provisioning/issues/comments/3842315113/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":{"id":15540,"client_id":"Iv1.d3768149424fd531","slug":"pulumi","node_id":"MDM6QXBwMTU1NDA=","owner":{"login":"pulumi","id":21992475,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIxOTkyNDc1","avatar_url":"https://avatars.githubusercontent.com/u/21992475?v=4","gravatar_id":"","url":"https://api.github.com/users/pulumi","html_url":"https://github.com/pulumi","followers_url":"https://api.github.com/users/pulumi/followers","following_url":"https://api.github.com/users/pulumi/following{/other_user}","gists_url":"https://api.github.com/users/pulumi/gists{/gist_id}","starred_url":"https://api.github.com/users/pulumi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pulumi/subscriptions","organizations_url":"https://api.github.com/users/pulumi/orgs","repos_url":"https://api.github.com/users/pulumi/repos","events_url":"https://api.github.com/users/pulumi/events{/privacy}","received_events_url":"https://api.github.com/users/pulumi/received_events","type":"Organization","user_view_type":"public","site_admin":false},"name":"Pulumi","description":"[Pulumi](https://www.pulumi.com/)’s universal infrastructure as code SDK lets you build, deploy, and manage cloud infrastructure on any cloud using the world’s most popular programming languages (TypeScript, Go, .NET, Python, and Java) and markup languages (YAML, CUE).\r\n\r\nThe Pulumi GitHub app will automatically add comments to Pull Requests with the results of any stack changes. This includes a summary of how many resources were created, updated, and/or deleted.","external_url":"https://pulumi.com","html_url":"https://github.com/apps/pulumi","created_at":"2018-08-02T19:44:22Z","updated_at":"2025-09-19T13:16:34Z","permissions":{"checks":"write","contents":"write","deployments":"write","environments":"write","members":"read","metadata":"read","pull_requests":"write","workflows":"write"},"events":["check_run","check_suite","pull_request","pull_request_review","pull_request_review_comment","push"]}}]